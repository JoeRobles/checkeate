{% extends 'admin-layout.html.twig' %}

{% block page_title %}Editar archivo{% endblock %}

{% block page_content %}
<div class="box">
    <div class="box-body">
        <form action="{{ edit_form.vars.action }}" class="form-horizontal" {{ form_enctype(edit_form) }} method="{{ edit_form.vars.method }}" name="{{ edit_form.vars.id }}" role="form">
            {{ form_errors(edit_form) }}
            <div class="form-group{% if edit_form.name.vars.errors[0].message is defined %} has-error{% endif %}">
                {{ form_label(edit_form.name, 'Nombre', {'label_attr': {'class': 'col-sm-2 control-label'} }) }}
                <div class="col-sm-10">
                    {{ form_widget(edit_form.name, {'attr': {'class': 'form-control'} }) }}
                    {% if edit_form.name.vars.errors[0].message is defined %}
                        <span class="help-block">
                            {{ edit_form.name.vars.errors[0].message }}
                        </span>
                    {% endif %}
                </div>
            </div>
            <div class="form-group{% if edit_form.type.vars.errors[0].message is defined %} has-error{% endif %}">
                {{ form_label(edit_form.type, 'Tipo', {'label_attr': {'class': 'col-sm-2 control-label'} }) }}
                <div class="col-sm-10">
                    {{ form_widget(edit_form.type, {'attr': {'class': 'form-control'} }) }}
                    {% if edit_form.type.vars.errors[0].message is defined %}
                        <span class="help-block">
                            {{ edit_form.type.vars.errors[0].message }}
                        </span>
                    {% endif %}
                </div>
            </div>
            <div class="form-group{% if edit_form.uri.vars.errors[0].message is defined %} has-error{% endif %}">
                {{ form_label(edit_form.uri, 'Uri', {'label_attr': {'class': 'col-sm-2 control-label'} }) }}
                <div class="col-sm-10">
                    {{ form_widget(edit_form.uri, {'attr': {'class': 'form-control'} }) }}
                    {% if edit_form.uri.vars.errors[0].message is defined %}
                        <span class="help-block">
                            {{ edit_form.uri.vars.errors[0].message }}
                        </span>
                    {% endif %}
                </div>
            </div>
            <div class="form-group{% if edit_form.file.vars.errors[0].message is defined %} has-error{% endif %}">
                {{ form_label(edit_form.file, 'Subir', {'label_attr': {'class': 'col-sm-2 control-label'} }) }}
                <div class="col-sm-10">
                    {{ form_widget(edit_form.file, {'attr': {'class': 'form-control'} }) }}
                    {% if edit_form.uri.vars.errors[0].message is defined %}
                        <span class="help-block">
                            {{ edit_form.file.vars.errors[0].message }}
                        </span>
                    {% endif %}
                    {% if file.extension in ['jpeg', '.jpg', '.png', '.gif', '.bmp'] %}
                        <img src="/{{ file.uploaddir }}/{{ file.path }}">
                    {% else %}
                        {{ file.original }}
                    {% endif %}
                </div>
            </div>
            <div class="form-group{% if edit_form.status.vars.errors[0].message is defined %} has-error{% endif %}">
                {{ form_label(edit_form.status, 'Estado', {'label_attr': {'class': 'col-sm-2 control-label'} }) }}
                <div class="col-sm-10">
                    {{ form_widget(edit_form.status, {'attr': {'class': 'form-control'} }) }}
                    {% if edit_form.status.vars.errors[0].message is defined %}
                        <span class="help-block">
                            {{ edit_form.status.vars.errors[0].message }}
                        </span>
                    {% endif %}
                </div>
            </div>
            <button class="btn btn-primary entity-submit pull-left" id="{{ edit_form.vars.id }}_submit" type="submit">Editar</button>
            {{ form_widget(edit_form._token) }}
        </form>
    </div>
    <div class="box-footer">
        {{ form_start(delete_form) }}
        <input class="btn btn-danger pull-left" type="submit" value="Eliminar">
        {{ form_end(delete_form) }}
        <a class="btn btn-default pull-left" href="{{ path('file_index') }}">Volver al listado</a>
    </div>
</div>
{% endblock %}